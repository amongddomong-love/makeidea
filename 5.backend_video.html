<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>Google Drive 영상 폴더 → 웹 플레이어 백엔드 가이드</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    :root {
      --bg: #020617;
      --bg-alt: #020617;
      --card: #020617;
      --card-soft: #020817;
      --border-subtle: rgba(148, 163, 184, 0.25);
      --accent: #38bdf8;
      --accent-soft: rgba(56, 189, 248, 0.2);
      --accent-strong: #0ea5e9;
      --warn: #f97373;
      --text: #e5e7eb;
      --text-soft: #9ca3af;
      --muted: #64748b;
      --shadow-soft: 0 22px 45px rgba(15, 23, 42, 0.9);
      --radius-lg: 18px;
      --radius-pill: 999px;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: "Spoqa Han Sans Neo", "Apple SD Gothic Neo", "Noto Sans KR",
        "Segoe UI", system-ui, -apple-system, sans-serif;
      background:
        radial-gradient(circle at top left, #0b1120 0, #020617 42%, #000000 100%);
      color: var(--text);
      min-height: 100vh;
      line-height: 1.6;
      -webkit-font-smoothing: antialiased;
      position: relative;
      overflow-x: hidden;
    }

    /* 은은한 그리드 패턴 */
    body::before {
      content: "";
      position: fixed;
      inset: 0;
      background-image:
        linear-gradient(rgba(148, 163, 184, 0.07) 1px, transparent 1px),
        linear-gradient(90deg, rgba(148, 163, 184, 0.05) 1px, transparent 1px);
      background-size: 40px 40px;
      mix-blend-mode: soft-light;
      opacity: 0.7;
      pointer-events: none;
      z-index: -1;
    }

    .page {
      max-width: 1120px;
      margin: 0 auto;
      padding: 24px 16px 40px;
    }

    /* 헤더 카드 */
    .header-card {
      background:
        radial-gradient(circle at top left, #1e293b 0, #020617 55%, #000 100%);
      border-radius: 24px;
      padding: 20px 20px 18px;
      border: 1px solid rgba(148, 163, 184, 0.4);
      box-shadow: var(--shadow-soft);
      position: relative;
      overflow: hidden;
    }

    .header-card::after {
      content: "";
      position: absolute;
      width: 220px;
      height: 220px;
      right: -60px;
      top: -60px;
      background:
        conic-gradient(
          from 220deg,
          rgba(56, 189, 248, 0.25),
          rgba(59, 130, 246, 0.03),
          transparent 60%
        );
      filter: blur(2px);
      opacity: 0.9;
      pointer-events: none;
    }

    .eyebrow {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 3px 11px;
      border-radius: var(--radius-pill);
      border: 1px solid rgba(148, 163, 184, 0.45);
      background: linear-gradient(
        135deg,
        rgba(15, 23, 42, 0.95),
        rgba(15, 23, 42, 0.85)
      );
      color: var(--text-soft);
      font-size: 11px;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      margin-bottom: 10px;
    }

    .eyebrow span.dot {
      width: 7px;
      height: 7px;
      border-radius: 999px;
      background: radial-gradient(circle at 30% 30%, #facc15, #22c55e);
      box-shadow: 0 0 12px rgba(34, 197, 94, 0.8);
    }

    h1 {
      font-size: clamp(22px, 4vw, 28px);
      margin-bottom: 8px;
      background: linear-gradient(to right, #e5f2ff, #bae6fd, #38bdf8);
      -webkit-background-clip: text;
      color: transparent;
      letter-spacing: -0.02em;
    }

    .header-sub {
      color: var(--text-soft);
      font-size: 13px;
      max-width: 640px;
    }

    .header-tags {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 14px;
    }

    .tag {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 4px 10px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.4);
      background: rgba(15, 23, 42, 0.8);
      color: var(--text-soft);
      font-size: 11px;
    }

    .tag-dot {
      width: 7px;
      height: 7px;
      border-radius: 999px;
      background: var(--accent);
      box-shadow: 0 0 10px rgba(56, 189, 248, 0.8);
    }

    /* 공통 카드 스타일 */
    .section {
      margin-top: 22px;
    }

    .section-title {
      font-size: 13px;
      font-weight: 600;
      letter-spacing: 0.12em;
      text-transform: uppercase;
      color: var(--muted);
      margin-bottom: 10px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .section-title::before {
      content: "";
      width: 18px;
      height: 1px;
      background: linear-gradient(to right, var(--accent), transparent);
      opacity: 0.8;
    }

    .card {
      background: radial-gradient(circle at top left, #020617, #020617 60%, #000 100%);
      border-radius: var(--radius-lg);
      padding: 16px 16px 14px;
      border: 1px solid var(--border-subtle);
      box-shadow: 0 18px 30px rgba(15, 23, 42, 0.85);
      position: relative;
      overflow: hidden;
    }

    .card-header-row {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      gap: 12px;
      margin-bottom: 6px;
    }

    .card-title {
      font-size: 15px;
      font-weight: 600;
      color: #e2e8f0;
      letter-spacing: -0.01em;
    }

    .card-pill {
      padding: 2px 9px;
      border-radius: var(--radius-pill);
      border: 1px solid rgba(148, 163, 184, 0.35);
      font-size: 11px;
      color: var(--text-soft);
      background: rgba(15, 23, 42, 0.9);
      white-space: nowrap;
    }

    .card-body {
      font-size: 13px;
      color: var(--text-soft);
    }

    .card-body p {
      margin-bottom: 6px;
    }

    .card-body ul {
      margin: 4px 0 2px 14px;
      padding-left: 2px;
      list-style: disc;
    }

    .card-body li + li {
      margin-top: 2px;
    }

    .card-body strong {
      color: #e5e7eb;
      font-weight: 500;
    }

    .card-badge-trio {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-top: 6px;
    }

    .badge {
      font-size: 11px;
      padding: 3px 8px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.45);
      background: rgba(15, 23, 42, 0.9);
      color: var(--muted);
    }

    .badge.accent {
      border-color: rgba(56, 189, 248, 0.7);
      background: rgba(15, 23, 42, 0.9);
      color: #e0f2fe;
    }

    /* 2단 카드 그리드 */
    .grid-2 {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 14px;
    }

    /* 요약 표 */
    .table-card {
      margin-top: 10px;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      font-size: 12px;
      margin-top: 6px;
      overflow: hidden;
      border-radius: 14px;
      background: radial-gradient(circle at top left, #020617, #020617 60%, #000 100%);
    }

    thead {
      background: linear-gradient(
        to right,
        rgba(30, 64, 175, 0.9),
        rgba(15, 23, 42, 0.9)
      );
    }

    th,
    td {
      padding: 8px 10px;
      text-align: left;
    }

    th {
      font-weight: 500;
      color: #e5e7eb;
      border-bottom: 1px solid rgba(148, 163, 184, 0.35);
      white-space: nowrap;
    }

    tbody tr:nth-child(even) {
      background: rgba(15, 23, 42, 0.92);
    }

    tbody tr:nth-child(odd) {
      background: rgba(15, 23, 42, 0.78);
    }

    tbody td {
      border-bottom: 1px dashed rgba(51, 65, 85, 0.8);
      color: var(--text-soft);
    }

    tbody tr:last-child td {
      border-bottom: none;
    }

    /* 노트 박스 */
    .note {
      margin-top: 8px;
      padding: 8px 10px;
      border-radius: 12px;
      border: 1px dashed rgba(56, 189, 248, 0.6);
      background: radial-gradient(circle at top left, rgba(15, 23, 42, 0.95), #020617);
      font-size: 12px;
      color: var(--text-soft);
    }

    .note-title {
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      color: #bae6fd;
      margin-bottom: 2px;
    }

    /* 코드 블록 스타일 (간단한 예시용) */
    pre {
      margin-top: 6px;
      padding: 8px 10px;
      border-radius: 12px;
      background: #020617;
      border: 1px solid rgba(30, 64, 175, 0.7);
      font-family: "JetBrains Mono", "SF Mono", ui-monospace, Menlo, Monaco,
        Consolas, "Liberation Mono", monospace;
      font-size: 11px;
      overflow-x: auto;
      color: #e5e7eb;
    }

    code {
      font-family: inherit;
    }

    /* 반응형 브레이크포인트 */
    @media (max-width: 840px) {
      .page {
        padding: 20px 14px 32px;
      }

      .grid-2 {
        grid-template-columns: 1fr;
      }

      .header-card {
        padding: 18px 16px 16px;
      }
    }

    @media (max-width: 620px) {
      .card {
        padding: 14px 13px 13px;
      }

      .header-tags {
        gap: 6px;
      }

      h1 {
        font-size: 20px;
      }
    }
  </style>
</head>
<body>
  <main class="page">
    <!-- 헤더 카드: 전체 개요 -->
    <section class="header-card">
      <div class="eyebrow">
        <span class="dot"></span>
        GOOGLE DRIVE VIDEO FOLDER → WEB BACKEND FLOW
      </div>
      <h1>
        Google Drive 한 폴더에 올린 영상파일을<br />
        웹 플레이어 백엔드로 쓰기 위한 단계별 체크리스트
      </h1>
      <p class="header-sub">
        구글 드라이브의 <strong>영상 전용 폴더</strong>를
        “동영상 콘텐츠 저장소”처럼 사용해서, 홈페이지에서 재생·리스트·썸네일로 보여주고 싶을 때
        어떤 부분을 순서대로 설계해야 하는지 정리한 가이드입니다.
        <strong>폴더/파일 구조 → 권한/ID → 백엔드 동기화 → 영상 API → 웹 플레이어</strong>
        흐름으로 보면 됩니다.
      </p>
      <div class="header-tags">
        <span class="tag">
          <span class="tag-dot"></span>
          Google Drive Video Folder
        </span>
        <span class="tag">동영상 저장소를 백엔드 데이터 소스로</span>
        <span class="tag">갤러리 · 강의 · 리포트 영상 공통 구조</span>
      </div>
    </section>

    <!-- 전체 흐름 요약 -->
    <section class="section">
      <h2 class="section-title">전체 흐름 요약</h2>
      <article class="card table-card">
        <div class="card-header-row">
          <div class="card-title">영상 폴더 → 백엔드 동기화 → 영상 API → 웹 플레이어</div>
          <span class="card-pill">Bird&apos;s-eye View</span>
        </div>
        <div class="card-body">
          <p>
            Google Drive에 있는 <strong>하나의 영상 폴더</strong>를 기준으로,
            백엔드에서 <strong>영상 파일 리스트와 메타데이터</strong>를 읽어
            <strong>API로 제공</strong>하고, 프론트에서 플레이어/리스트로 렌더링하는 구성을 기본으로 가정합니다.
          </p>
          <table>
            <thead>
              <tr>
                <th>단계</th>
                <th>구성 요소</th>
                <th>역할</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>1단계</td>
                <td>Google Drive 영상 폴더</td>
                <td>폴더 구조, 파일명 규칙, 카테고리/시리즈 표현, 용량 관리</td>
              </tr>
              <tr>
                <td>2단계</td>
                <td>권한 &amp; 폴더 ID</td>
                <td>서비스 계정 공유, 폴더 ID 확보, 읽기(또는 제한된 쓰기) 권한 설정</td>
              </tr>
              <tr>
                <td>3단계</td>
                <td>백엔드 동기화 로직</td>
                <td>Drive API로 파일 목록/메타데이터 읽기, DB/캐시 저장, 인덱싱</td>
              </tr>
              <tr>
                <td>4단계</td>
                <td>영상 API 레이어</td>
                <td>리스트/상세 엔드포인트, 필터(카테고리/난이도/언어), 페이지네이션</td>
              </tr>
              <tr>
                <td>5단계</td>
                <td>웹 프론트엔드 플레이어</td>
                <td>영상 리스트, 썸네일, 재생화면, 자막/요약 연결</td>
              </tr>
              <tr>
                <td>6단계</td>
                <td>운영·보안</td>
                <td>트래픽/쿼터 관리, 권한 점검, 링크 깨짐 모니터링, 인코딩 전략</td>
              </tr>
            </tbody>
          </table>
          <div class="note">
            <div class="note-title">TIP · “동영상 콘텐츠 플랫폼”처럼 생각하기</div>
            <p>
              단순히 파일 몇 개 올려서 보는 수준을 넘어서,
              팀장님이 생각하시는 <strong>ETF/리스크 강의, 데일리 브리핑, 시나리오 설명 영상</strong>까지
              연결하려면, 처음부터 <strong>“영상 폴더 = 콘텐츠 저장소”</strong>라고 정의하는 느낌으로
              설계해 두면 이후 확장에 유리합니다.
            </p>
          </div>
        </div>
      </article>
    </section>

    <!-- 1단계: Google Drive 폴더 & 파일 구조 -->
    <section class="section">
      <h2 class="section-title">1단계 · Google Drive 폴더 &amp; 파일 구조</h2>
      <div class="grid-2">
        <!-- 1-1. 폴더 구조 & 파일명 규칙 -->
        <article class="card">
          <div class="card-header-row">
            <div class="card-title">1-1. 폴더 구조 &amp; 파일명 규칙 설계</div>
            <span class="card-pill">영상 저장소 설계</span>
          </div>
          <div class="card-body">
            <p>
              나중에 백엔드에서 <strong>자동으로 시리즈/카테고리/언어</strong>를 분리할 수 있도록
              폴더 구조와 파일명을 미리 정리해 두는 게 핵심입니다.
            </p>
            <ul>
              <li>
                기본 영상 폴더를 하나 정합니다.
                <ul>
                  <li>예: <code>/Ailert_VideoStore/daily_briefing/</code></li>
                </ul>
              </li>
              <li>
                하위 폴더 설계 예시
                <ul>
                  <li><code>kor/</code>, <code>eng/</code>, <code>jap/</code> 등 언어별 폴더</li>
                  <li><code>risk_overview/</code>, <code>etf_intro/</code> 등 주제별 폴더</li>
                </ul>
              </li>
              <li>
                파일명에 넣으면 좋은 정보들
                <ul>
                  <li>날짜: <code>20251202</code></li>
                  <li>시리즈 코드: <code>daily</code>, <code>weekly</code></li>
                  <li>언어: <code>kor</code>, <code>eng</code></li>
                  <li>버전: <code>v1</code>, <code>v2</code></li>
                </ul>
              </li>
              <li>
                예시 파일명
                <ul>
                  <li><code>daily_briefing_20251202_kor_v1.mp4</code></li>
                  <li><code>scenario_krw1650_explain_eng_v2.mp4</code></li>
                </ul>
              </li>
              <li>공백, 한글, 특수문자는 가급적 피하고 <strong>소문자+언더스코어</strong> 조합으로 관리합니다.</li>
            </ul>
            <div class="card-badge-trio">
              <span class="badge accent">규칙적인 네이밍</span>
              <span class="badge">언어/시리즈 구분</span>
              <span class="badge">날짜·버전 포함</span>
            </div>
          </div>
        </article>

        <!-- 1-2. 공유 권한 & 폴더 ID 관리 -->
        <article class="card">
          <div class="card-header-row">
            <div class="card-title">1-2. 공유 권한 &amp; 폴더 ID 관리</div>
            <span class="card-pill">권한 &amp; 메타데이터</span>
          </div>
          <div class="card-body">
            <p>
              백엔드에서 영상 폴더를 읽으려면, <strong>서비스 계정 기준 공유</strong>와
              <strong>폴더 ID 관리</strong>가 중요합니다.
            </p>
            <ul>
              <li>Google Cloud에서 서비스 계정을 생성하고, 해당 계정 이메일로 폴더 공유</li>
              <li>권한은 <strong>보기(Viewer)</strong> 또는 필요한 경우에만 쓰기 권한</li>
              <li>
                폴더 URL에서 <strong>폴더 ID</strong> 추출
                <ul>
                  <li><code>https://drive.google.com/drive/folders/<strong>폴더ID</strong></code></li>
                </ul>
              </li>
              <li>
                환경 설정
                <ul>
                  <li><code>DRIVE_VIDEO_FOLDER_ID=xxxxxx</code></li>
                  <li>운영/개발 분리 시 <code>DRIVE_VIDEO_FOLDER_ID_PROD</code>, <code>_DEV</code> 등으로 구분</li>
                </ul>
              </li>
            </ul>
            <div class="note">
              <div class="note-title">CHECK</div>
              <p>
                폴더를 여러 개 쓸 계획이면, <strong>“역할별 폴더 ID 맵”</strong>을 설정 파일에서 관리하는 게 좋습니다.
                (예: <code>DAILY_BRIEF_FOLDER_ID</code>, <code>SCENARIO_VIDEO_FOLDER_ID</code> 등)
              </p>
            </div>
          </div>
        </article>
      </div>
    </section>

    <!-- 2단계: 백엔드에서 영상 목록 읽기 -->
    <section class="section">
      <h2 class="section-title">2단계 · 백엔드에서 영상 목록 읽기</h2>
      <div class="grid-2">
        <!-- 2-1. Drive API로 파일 목록 조회 -->
        <article class="card">
          <div class="card-header-row">
            <div class="card-title">2-1. Google Drive API로 영상 파일 조회</div>
            <span class="card-pill">Drive API</span>
          </div>
          <div class="card-body">
            <p>
              영상 폴더를 읽는 기본은 <strong>Drive API + 폴더 ID</strong> 조합입니다.
            </p>
            <ul>
              <li>서비스 계정 키(JSON)로 OAuth2 인증</li>
              <li>
                특정 폴더 아래 파일 검색
                <ul>
                  <li><code>q = "'폴더ID' in parents and mimeType contains 'video/' and trashed = false"</code></li>
                </ul>
              </li>
              <li>
                필요한 필드만 요청
                <ul>
                  <li><code>id</code>, <code>name</code>, <code>mimeType</code>, <code>size</code>, <code>modifiedTime</code> 등</li>
                </ul>
              </li>
              <li>페이지네이션으로 많은 파일(수백 개 이상)도 안정적으로 조회</li>
            </ul>
            <pre><code>// 의사 코드 예시 (개념)

// 1) 서비스 계정으로 Drive API 클라이언트 생성
// 2) 폴더 ID 기준으로 mimeType = video/* 인 파일만 검색
// 3) 결과를 내부용 Video 엔티티 리스트로 변환
</code></pre>
          </div>
        </article>

        <!-- 2-2. 파일명 → 메타데이터 파싱 -->
        <article class="card">
          <div class="card-header-row">
            <div class="card-title">2-2. 파일명/폴더에서 영상 메타데이터 도출</div>
            <span class="card-pill">데이터 정제</span>
          </div>
          <div class="card-body">
            <p>
              Drive API가 주는 정보는 <strong>파일명/폴더/크기/수정일 중심</strong>이라,
              백엔드에서 한 번 <strong>도메인 메타데이터</strong>로 바꿔주는 단계가 필요합니다.
            </p>
            <ul>
              <li>파일명에서 날짜, 언어, 시리즈 코드, 버전 추출</li>
              <li>상위 폴더 이름으로 “카테고리/주제” 정보 부여</li>
              <li>길이(재생 시간), 해상도 등은 필요 시 별도 인코딩/ffprobe 단계에서 수집</li>
            </ul>
            <pre><code>// 프론트로 넘길 영상 한 건의 JSON 예시

{
  "id": "vid_daily_20251202_kor_v1",
  "file_id": "17AbCxyz...",
  "series": "daily_briefing",
  "lang": "ko",
  "title": "2025-12-02 데일리 리스크 브리핑",
  "description": "전일 미국시장, 환율, 채권, ETF 포인트 요약 영상",
  "duration_sec": 180,
  "resolution": "1920x1080",
  "order": 1,
  "thumbnail_url": "https://.../thumb_20251202.png",
  "stream_url": "https://.../video_proxy/17AbCxyz...",
  "updated_at": "2025-12-02T09:40:00+09:00"
}
</code></pre>
            <p>
              이렇게 만들어 두면, 프론트는 <strong>“영상 객체”</strong>만 보고
              리스트/플레이어를 구성할 수 있습니다.
            </p>
          </div>
        </article>
      </div>
    </section>

    <!-- 3단계: 캐시 & 동기화 전략 -->
    <section class="section">
      <h2 class="section-title">3단계 · 캐시 &amp; 동기화 전략</h2>
      <article class="card">
        <div class="card-header-row">
          <div class="card-title">3-1. 폴더와 백엔드 사이 “언제 동기화할 것인가”</div>
          <span class="card-pill">성능 · 안정성</span>
        </div>
        <div class="card-body">
          <p>
            영상은 파일 크기가 크고, Drive API 쿼터도 있기 때문에
            <strong>“매 요청마다 바로 Drive에서 조회하지 않고”</strong>,
            <strong>주기적 동기화 + 로컬/DB 캐시</strong> 방식을 쓰는 게 좋습니다.
          </p>
          <ul>
            <li>
              <strong>주기적 동기화 (추천)</strong>
              <ul>
                <li>예: 1시간 단위로 영상 폴더 스캔 → 메타데이터만 DB/캐시에 저장</li>
                <li>실제 영상 파일은 계속 Drive에 두고, 스트리밍 URL만 관리</li>
              </ul>
            </li>
            <li>
              <strong>관리자용 “영상 목록 새로고침” 버튼</strong>
              <ul>
                <li>관리 페이지에서 수동으로 즉시 Drive → DB 재동기화</li>
              </ul>
            </li>
            <li>
              <strong>캐시 전략</strong>
              <ul>
                <li>인메모리 캐시(TTL: 5~15분) + DB 백업</li>
                <li>또는 JSON 파일로 스냅샷 떠 두고, API는 그 파일만 읽기</li>
              </ul>
            </li>
          </ul>
          <div class="note">
            <div class="note-title">OPERATING TIP</div>
            <p>
              화면 어딘가에 <strong>“영상 목록 마지막 동기화 시각”</strong>을 표시하면,
              “왜 오늘 영상이 안 보이지?” 같은 문의에 대해
              운영 관점에서 설명하기가 훨씬 편해집니다.
            </p>
          </div>
        </div>
      </article>
    </section>

    <!-- 4단계: 영상 API 설계 -->
    <section class="section">
      <h2 class="section-title">4단계 · 영상 백엔드 API 설계</h2>
      <div class="grid-2">
        <!-- 4-1. 리스트/상세 엔드포인트 -->
        <article class="card">
          <div class="card-header-row">
            <div class="card-title">4-1. 영상 리스트 &amp; 상세 엔드포인트</div>
            <span class="card-pill">RESTful API</span>
          </div>
          <div class="card-body">
            <p>
              프론트에서 쓰기 좋은 형태로 <strong>영상 리스트/상세 API</strong>를 설계합니다.
            </p>
            <ul>
              <li>
                예시 엔드포인트
                <ul>
                  <li><code>GET /api/videos</code> : 전체 영상 리스트</li>
                  <li><code>GET /api/videos?series=daily&amp;lang=ko</code> : 시리즈/언어 필터</li>
                  <li><code>GET /api/videos/:id</code> : 특정 영상 상세</li>
                </ul>
              </li>
              <li>
                공통 응답 포맷
                <ul>
                  <li><code>{ "data": [...], "last_synced": "...", "meta": {...} }</code></li>
                  <li>에러 시 <code>{ "error": { "message": "...", "code": ... } }</code></li>
                </ul>
              </li>
              <li>
                페이지네이션/정렬
                <ul>
                  <li><code>?page=1&amp;page_size=10</code></li>
                  <li><code>?sort=date&amp;order=desc</code> 등</li>
                </ul>
              </li>
            </ul>
            <pre><code>// 응답 예시(요약)

{
  "data": [ { ... }, { ... } ],
  "last_synced": "2025-12-02T10:00:00+09:00",
  "meta": {
    "page": 1,
    "page_size": 10,
    "total": 34
  }
}
</code></pre>
          </div>
        </article>

        <!-- 4-2. 스트리밍 URL & 보안 -->
        <article class="card">
          <div class="card-header-row">
            <div class="card-title">4-2. 스트리밍 URL 전략 &amp; 보안</div>
            <span class="card-pill">Security</span>
          </div>
          <div class="card-body">
            <p>
              영상은 트래픽과 권한 이슈가 커서, <strong>URL 전략</strong>과 <strong>보안 정책</strong>을
              처음부터 잡아두는 게 좋습니다.
            </p>
            <ul>
              <li>
                <strong>직접 Drive 링크 사용</strong>
                <ul>
                  <li>간단하지만, 권한에 따라 재생 실패 가능성 있고 URL이 지저분함</li>
                </ul>
              </li>
              <li>
                <strong>백엔드 프록시 엔드포인트 사용 (권장)</strong>
                <ul>
                  <li><code>GET /video/:id</code> → 백엔드가 Drive에서 받아와 스트리밍</li>
                  <li>프론트는 항상 우리 도메인의 /video URL만 사용</li>
                </ul>
              </li>
              <li>
                서비스 계정 키(JSON), Drive API 키
                <ul>
                  <li>Git에 올리지 말고, 서버 환경변수/시크릿 매니저에 보관</li>
                  <li>프론트 코드에 절대 직접 노출하지 않기</li>
                </ul>
              </li>
              <li>
                필요시 HLS 등으로 변환
                <ul>
                  <li>스트리밍 최적화를 위해 사전에 MP4 → HLS 변환 파이프라인도 고려 가능</li>
                </ul>
              </li>
            </ul>
            <div class="note">
              <div class="note-title">SECURITY NOTE</div>
              <p>
                나중에 저장소를 Drive에서 S3/Cloud Storage로 옮기더라도,
                <strong>프론트는 같은 /video/:id 형식</strong>을 쓰게 두면
                백엔드만 교체하는 식으로 유연하게 운영할 수 있습니다.
              </p>
            </div>
          </div>
        </article>
      </div>
    </section>

    <!-- 5단계: 프론트엔드에서 플레이어 구성 -->
    <section class="section">
      <h2 class="section-title">5단계 · 웹 프론트엔드에서 영상 플레이어 구성</h2>
      <div class="grid-2">
        <!-- 5-1. 영상 리스트 & 플레이어 UI -->
        <article class="card">
          <div class="card-header-row">
            <div class="card-title">5-1. 리스트 · 상세 플레이어 · 반응형 레이아웃</div>
            <span class="card-pill">UI &amp; 데이터</span>
          </div>
          <div class="card-body">
            <p>
              영상 API 응답을 받아 <strong>리스트 + 상세 플레이어 화면</strong>을 구성합니다.
            </p>
            <ul>
              <li>
                기본 패턴
                <ul>
                  <li>페이지 로드 시 <code>GET /api/videos</code>로 리스트 불러오기</li>
                  <li>리스트에서 한 개 선택 → 상세 영역의 <code>&lt;video&gt;</code> 태그에 소스 바인딩</li>
                </ul>
              </li>
              <li>
                레이아웃 예시
                <ul>
                  <li>데스크톱: 좌측 리스트(영상 제목/길이), 우측 메인 플레이어</li>
                  <li>모바일: 위에 플레이어, 아래에 스크롤 리스트</li>
                </ul>
              </li>
              <li>
                부가 정보
                <ul>
                  <li>영상 제목, 날짜, 시리즈명, 핵심 키워드 표시</li>
                  <li>“이 영상과 관련된 리포트·그래프 보기” 버튼으로 리스크 대시보드와 연결</li>
                </ul>
              </li>
              <li>
                성능/UX
                <ul>
                  <li>자동 재생/음소거 정책(브라우저 규칙)에 맞춰 설정</li>
                  <li>네트워크 상태에 따라 품질(해상도) 선택 옵션도 고려</li>
                </ul>
              </li>
            </ul>
          </div>
        </article>

        <!-- 5-2. 태그/필터 & 리스크 시나리오 연동 -->
        <article class="card">
          <div class="card-header-row">
            <div class="card-title">5-2. 태그 필터 &amp; 리스크 시나리오와의 연결</div>
            <span class="card-pill">리포트 친화형 UI</span>
          </div>
          <div class="card-body">
            <p>
              팀장님이 구상하시는 <strong>“오늘의 이슈 영상 + 리스크 대시보드”</strong> 구조를 위해,
              영상에도 <strong>섹터/시나리오/언어 태그</strong>를 붙여두는 것이 좋습니다.
            </p>
            <ul>
              <li>
                태그/필터 UI
                <ul>
                  <li>주제(예: ETF, ALM, 시장리스크), 언어, 난이도 필터</li>
                  <li>API 쿼리와 연결: <code>?series=daily&amp;sector=market&amp;lang=ko</code></li>
                </ul>
              </li>
              <li>
                리스크 시나리오 연결
                <ul>
                  <li>시나리오 코드(예: <code>SCN_KRW_1650</code>)와 영상을 매핑해두고</li>
                  <li>대시보드에서 시나리오 클릭 시 관련 영상 자동 추천</li>
                </ul>
              </li>
              <li>
                자막/요약 연동
                <ul>
                  <li>GPT로 만든 텍스트 요약/스크립트를 같이 보여주면 리포트용으로 활용도↑</li>
                </ul>
              </li>
            </ul>
            <div class="note">
              <div class="note-title">FOR RISK MANAGEMENT</div>
              <p>
                “각 시나리오나 지표에 대한 3분짜리 설명 영상”을 쌓아두고,
                나중에 <strong>FAQ·임원보고·교육</strong>에 재활용하는 구조로 가져가면
                팀장님 Ailert 프로젝트랑도 자연스럽게 맞물립니다.
              </p>
            </div>
          </div>
        </article>
      </div>
    </section>

    <!-- 6단계: 운영 & 체크리스트 -->
    <section class="section">
      <h2 class="section-title">6단계 · 운영 시 체크리스트</h2>
      <article class="card">
        <div class="card-header-row">
          <div class="card-title">영상 저장소 운영 관점에서 점검할 포인트</div>
          <span class="card-pill">Checklist</span>
        </div>
        <div class="card-body">
          <ul>
            <li>
              <strong>용량·쿼터 관리</strong>
              <ul>
                <li>영상이 쌓이면 Drive 용량과 API 쿼터를 주기적으로 확인</li>
                <li>아주 오래된 영상은 아카이브 폴더로 이동하거나 별도 스토리지로 이전</li>
              </ul>
            </li>
            <li>
              <strong>권한·보안</strong>
              <ul>
                <li>서비스 계정에 불필요한 쓰기/삭제 권한 부여하지 않기</li>
                <li>키/토큰/서비스 계정 JSON의 노출 여부를 정기적으로 점검</li>
              </ul>
            </li>
            <li>
              <strong>인코딩/호환성</strong>
              <ul>
                <li>가능하면 공통 코덱/해상도(예: H.264, 720p/1080p)로 통일</li>
                <li>브라우저별 재생 호환성 테스트(모바일 포함)</li>
              </ul>
            </li>
            <li>
              <strong>깨진 링크 모니터링</strong>
              <ul>
                <li>삭제된 파일이 여전히 DB/영상 리스트에 남아 있지 않은지 확인</li>
                <li>재생 실패 로그를 서버에서 수집하고, 필요하면 슬랙/텔레그램 알림 연동</li>
              </ul>
            </li>
          </ul>
          <div class="card-badge-trio">
            <span class="badge accent">용량 &amp; 쿼터 모니터링</span>
            <span class="badge">키·권한 최소화</span>
            <span class="badge">재생 실패 로그 관리</span>
          </div>
        </div>
      </article>
    </section>
  </main>
</body>
</html>
